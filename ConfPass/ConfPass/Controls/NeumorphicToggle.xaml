<UserControl x:Class="ConfPass.Controls.NeumorphicToggle"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:utu="using:Uno.Toolkit.UI"
             Width="48" Height="26">

    <Grid x:Name="RootGrid"
          Background="Transparent"
          Tapped="OnToggleTapped">
        <VisualStateManager.VisualStateGroups>
            <VisualStateGroup x:Name="ToggleStates">
                <VisualState x:Name="On">
                    <Storyboard>
                        <DoubleAnimation Storyboard.TargetName="ToggleRaised"
                                         Storyboard.TargetProperty="Opacity"
                                         To="1" Duration="0:0:0.2">
                            <DoubleAnimation.EasingFunction>
                                <QuadraticEase EasingMode="EaseOut" />
                            </DoubleAnimation.EasingFunction>
                        </DoubleAnimation>
                        <DoubleAnimation Storyboard.TargetName="ToggleInset"
                                         Storyboard.TargetProperty="Opacity"
                                         To="0" Duration="0:0:0.2">
                            <DoubleAnimation.EasingFunction>
                                <QuadraticEase EasingMode="EaseOut" />
                            </DoubleAnimation.EasingFunction>
                        </DoubleAnimation>
                        <DoubleAnimation Storyboard.TargetName="ToggleKnobTransform"
                                         Storyboard.TargetProperty="X"
                                         To="22" Duration="0:0:0.2">
                            <DoubleAnimation.EasingFunction>
                                <QuadraticEase EasingMode="EaseOut" />
                            </DoubleAnimation.EasingFunction>
                        </DoubleAnimation>
                    </Storyboard>
                    <VisualState.Setters>
                        <Setter Target="ToggleKnob.Fill" Value="{StaticResource NeumorphicSuccessBrush}" />
                    </VisualState.Setters>
                </VisualState>
                <VisualState x:Name="Off">
                    <Storyboard>
                        <DoubleAnimation Storyboard.TargetName="ToggleRaised"
                                         Storyboard.TargetProperty="Opacity"
                                         To="0" Duration="0:0:0.2">
                            <DoubleAnimation.EasingFunction>
                                <QuadraticEase EasingMode="EaseOut" />
                            </DoubleAnimation.EasingFunction>
                        </DoubleAnimation>
                        <DoubleAnimation Storyboard.TargetName="ToggleInset"
                                         Storyboard.TargetProperty="Opacity"
                                         To="1" Duration="0:0:0.2">
                            <DoubleAnimation.EasingFunction>
                                <QuadraticEase EasingMode="EaseOut" />
                            </DoubleAnimation.EasingFunction>
                        </DoubleAnimation>
                        <DoubleAnimation Storyboard.TargetName="ToggleKnobTransform"
                                         Storyboard.TargetProperty="X"
                                         To="0" Duration="0:0:0.2">
                            <DoubleAnimation.EasingFunction>
                                <QuadraticEase EasingMode="EaseOut" />
                            </DoubleAnimation.EasingFunction>
                        </DoubleAnimation>
                    </Storyboard>
                    <VisualState.Setters>
                        <Setter Target="ToggleKnob.Fill" Value="{ThemeResource NeumorphicTextMutedBrush}" />
                    </VisualState.Setters>
                </VisualState>
            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>

        <utu:ShadowContainer x:Name="ToggleRaised"
                             Background="{ThemeResource NeumorphicBgBrush}"
                             Shadows="{ThemeResource NeuroRaisedXs}">
            <Grid Width="48" Height="26" CornerRadius="13" />
        </utu:ShadowContainer>
        <utu:ShadowContainer x:Name="ToggleInset"
                             Background="{ThemeResource NeumorphicBgBrush}"
                             Shadows="{ThemeResource NeuroInsetXs}"
                             Opacity="0">
            <Grid Width="48" Height="26" CornerRadius="13" />
        </utu:ShadowContainer>
        <Ellipse x:Name="ToggleKnob"
                 Width="22" Height="22"
                 Fill="{StaticResource NeumorphicSuccessBrush}"
                 HorizontalAlignment="Left"
                 VerticalAlignment="Center"
                 Margin="2,0">
            <Ellipse.RenderTransform>
                <TranslateTransform x:Name="ToggleKnobTransform" X="22" />
            </Ellipse.RenderTransform>
        </Ellipse>
    </Grid>
</UserControl>
